<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Tire::Model::Search
  
    &mdash; Documentation by YARD 0.8.3
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Tire.html" title="Tire (module)">Tire</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Model.html" title="Tire::Model (module)">Model</a></span></span>
     &raquo; 
    <span class="title">Search</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Tire::Model::Search
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/tire/model/search.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Main module containing the search infrastructure for ActiveModel classes.</p>

<p>By including this module, you&#39;ll provide the model with facilities to
perform searches against index, define index settings and mappings,
access the index object, etc.</p>

<p>All the <em>Tire</em> methods are accessible via the &quot;proxy&quot; class and instance
methods of the model, named <code>tire</code>, eg. <code>Article.tire.search &#39;foo&#39;</code>.</p>

<p>When there&#39;s no clash with a method in the class (your own, defined by another gem, etc)
<em>Tire</em> will bring these methods to the top-level namespace of the class,
eg. <code>Article.search &#39;foo&#39;</code>.</p>

<p>You&#39;ll find the relevant methods in the ClassMethods and InstanceMethods module.</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Search/ClassMethods.html" title="Tire::Model::Search::ClassMethods (module)">ClassMethods</a></span>, <span class='object_link'><a href="Search/InstanceMethods.html" title="Tire::Model::Search::InstanceMethods (module)">InstanceMethods</a></span>, <span class='object_link'><a href="Search/Loader.html" title="Tire::Model::Search::Loader (module)">Loader</a></span>
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Search/ClassMethodsProxy.html" title="Tire::Model::Search::ClassMethodsProxy (class)">ClassMethodsProxy</a></span>, <span class='object_link'><a href="Search/InstanceMethodsProxy.html" title="Tire::Model::Search::InstanceMethodsProxy (class)">InstanceMethodsProxy</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#included-class_method" title="included (class method)">+ (Object) <strong>included</strong>(base) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>A hook triggered by the <code>include Tire::Model::Search</code> statement in the model.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#index_prefix-class_method" title="index_prefix (class method)">+ (Object) <strong>index_prefix</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Alias for Tire::Model::Naming::ClassMethods.index_prefix.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="included-class_method">
  
    + (<tt>Object</tt>) <strong>included</strong>(base) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>A hook triggered by the <code>include Tire::Model::Search</code> statement in the model.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tire/model/search.rb', line 254</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_included'>included</span><span class='lparen'>(</span><span class='id identifier rubyid_base'>base</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_class_eval'>class_eval</span> <span class='kw'>do</span>

    <span class='comment'># Returns proxy to the _Tire's_ class methods.
</span>    <span class='comment'>#
</span>    <span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_tire'>tire</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
      <span class='ivar'>@__tire__</span> <span class='op'>||=</span> <span class='const'>ClassMethodsProxy</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>

      <span class='ivar'>@__tire__</span><span class='period'>.</span><span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='ivar'>@__tire__</span>
    <span class='kw'>end</span>

    <span class='comment'># Returns proxy to the _Tire's_ instance methods.
</span>    <span class='comment'>#
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_tire'>tire</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
      <span class='ivar'>@__tire__</span> <span class='op'>||=</span> <span class='const'>InstanceMethodsProxy</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>

      <span class='ivar'>@__tire__</span><span class='period'>.</span><span class='id identifier rubyid_instance_eval'>instance_eval</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='ivar'>@__tire__</span>
    <span class='kw'>end</span>

    <span class='comment'># Define _Tire's_ callbacks (&lt;after|before&gt;_update_elasticsearch_index).
</span>    <span class='comment'>#
</span>    <span class='id identifier rubyid_define_model_callbacks'>define_model_callbacks</span><span class='lparen'>(</span><span class='symbol'>:update_elasticsearch_index</span><span class='comma'>,</span> <span class='symbol'>:only</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:after</span><span class='comma'>,</span> <span class='symbol'>:before</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> \
      <span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:define_model_callbacks</span><span class='rparen'>)</span>

    <span class='comment'># Serialize the model as a Hash.
</span>    <span class='comment'>#
</span>    <span class='comment'># Uses `serializable_hash` representation of the model,
</span>    <span class='comment'># unless implemented in the model already.
</span>    <span class='comment'>#
</span>    <span class='kw'>def</span> <span class='id identifier rubyid_to_hash'>to_hash</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_serializable_hash'>serializable_hash</span>
    <span class='kw'>end</span> <span class='kw'>unless</span> <span class='id identifier rubyid_instance_methods'>instance_methods</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_sym</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='symbol'>:to_hash</span><span class='rparen'>)</span>

  <span class='kw'>end</span>

  <span class='comment'># Alias _Tire's_ class methods in the top-level namespace of the model,
</span>  <span class='comment'># unless there's a conflict with existing method.
</span>  <span class='comment'>#
</span>  <span class='const'>ClassMethodsProxy</span><span class='op'>::</span><span class='const'>INTERFACE</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
    <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-&quot;end;&quot;</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='kw'>unless</span> <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_public_methods'>public_methods</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_sym</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span>
<span class='tstring_content'>      def self.</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='rbrace'>}</span><span class='tstring_content'>(*args, &amp;block)                     # def search(*args, &amp;block)
</span><span class='embexpr_beg'>        tire.__send__(#{</span><span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>, *args, &amp;block)     #   tire.__send__(:search, *args, &amp;block)
      end                                                   # end
</span><span class='heredoc_end'>    end;
</span>  <span class='kw'>end</span>

  <span class='comment'># Alias _Tire's_ instance methods in the top-level namespace of the model,
</span>  <span class='comment'># unless there's a conflict with existing method
</span>  <span class='const'>InstanceMethodsProxy</span><span class='op'>::</span><span class='const'>INTERFACE</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_method'>method</span><span class='op'>|</span>
    <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_class_eval'>class_eval</span> <span class='heredoc_beg'>&lt;&lt;-&quot;end;&quot;</span><span class='comma'>,</span> <span class='kw'>__FILE__</span><span class='comma'>,</span> <span class='kw'>__LINE__</span> <span class='kw'>unless</span> <span class='id identifier rubyid_base'>base</span><span class='period'>.</span><span class='id identifier rubyid_instance_methods'>instance_methods</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_sym</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='rparen'>)</span>
<span class='tstring_content'>      def </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='rbrace'>}</span><span class='tstring_content'>(*args, &amp;block)                          # def to_indexed_json(*args, &amp;block)
</span><span class='embexpr_beg'>        tire.__send__(#{</span><span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>, *args, &amp;block)     #   tire.__send__(:to_indexed_json, *args, &amp;block)
      end                                                   # end
</span><span class='heredoc_end'>    end;
</span>  <span class='kw'>end</span>

  <span class='comment'># Include the `load` functionality in Results::Item
</span>  <span class='comment'>#
</span>  <span class='const'>Results</span><span class='op'>::</span><span class='const'>Item</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span> <span class='symbol'>:include</span><span class='comma'>,</span> <span class='const'>Loader</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="index_prefix-class_method">
  
    + (<tt>Object</tt>) <strong>index_prefix</strong>(*args) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Alias for Tire::Model::Naming::ClassMethods.index_prefix</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tire/model/search.rb', line 24</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_index_prefix'>index_prefix</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
  <span class='const'>Naming</span><span class='op'>::</span><span class='const'>ClassMethods</span><span class='period'>.</span><span class='id identifier rubyid_index_prefix'>index_prefix</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Nov  8 21:37:04 2012 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.3 (ruby-1.9.3).
</div>

  </body>
</html>